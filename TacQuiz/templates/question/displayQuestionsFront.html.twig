<html>
<head>

    <meta charset="utf-8" />
    <title>| Keenthemes</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="canonical" href="https://keenthemes.com/metronic" />
    <!--begin::Fonts-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
    <!--end::Fonts-->
    <!--begin::Global Theme Styles(used by all pages)-->
    <link href="../../theme/html/demo1/dist/assets/plugins/global/plugins.bundle49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <link href="../../theme/html/demo1/dist/assets/plugins/custom/prismjs/prismjs.bundle49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <link href="../../theme/html/demo1/dist/assets/css/style.bundle49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <!--end::Global Theme Styles-->
    <!--begin::Layout Themes(used by all pages)-->
    <link href="../../theme/html/demo1/dist/assets/css/themes/layout/header/base/light49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <link href="../../theme/html/demo1/dist/assets/css/themes/layout/header/menu/light49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <link href="../../theme/html/demo1/dist/assets/css/themes/layout/brand/dark49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <link href="../../theme/html/demo1/dist/assets/css/themes/layout/aside/dark49d8.css?v=7.2.8" rel="stylesheet" type="text/css" />
    <!--end::Layout Themes-->
    <link rel="shortcut icon" href="https://preview.keenthemes.com/metronic/theme/html/demo1/dist/assets/media/logos/favicon.ico" />
    <!-- Hotjar Tracking Code for keenthemes.com -->
    <script>(function(h,o,t,j,a,r){ h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)}; h._hjSettings={hjid:1070954,hjsv:6}; a=o.getElementsByTagName('head')[0]; r=o.createElement('script');r.async=1; r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv; a.appendChild(r); })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script>
    <style>
        #custombackground{
            background-image: url("{{ asset('uploads/' ~ quiz.image) }} ");
            background-image: no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
        .btn-primary {
            margin-top: 1%;

            background-color: #5CB85C !important;
            border-color: #5CB85C !important;
            border-radius: 6px;
        }
        .btn-primary:hover {
            opacity: 0.8;
            background-color: #5CB85C !important;
            border-color: #5CB85C !important;
            border-radius: 6px;
        }
        .btn-primary:active {
            background-color: #5CB85C !important;
            border-color: #5CB85C !important;
            border-radius: 6px;
        }
        /* The container */
        .container {
            display: block;
            position: relative;
            padding-left: 35px;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;

        }

        /* Hide the browser's default checkbox */
        .container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        /* Create a custom checkbox */
        .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 25px;
            width: 25px;
            background-color: #5CB85C;
            margin-top: 1% !important;
        }

        /* On mouse-over, add a grey background color */
        .container:hover input ~ .checkmark {
            background-color: #5CB85C;
        }

        /* When the checkbox is checked, add a blue background */
        .container input:checked ~ .checkmark {
            background-color: #5CB85C;
        }

        /* Create the checkmark/indicator (hidden when not checked) */
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        /* Show the checkmark when checked */
        .container input:checked ~ .checkmark:after {
            display: block;
        }

        /* Style the checkmark/indicator */
        .container .checkmark:after {
            left: 9px;
            top: 5px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 3px 3px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        #fixedtop{
            overflow: hidden;
            background-color: transparent;
            color:black;
            position: fixed;
            top: 0;
        }
    </style>
    <script>
        function display_c (start) {
            window.start = parseFloat(start);
            var end = 0 // change this to stop the counter at a higher value
            var refresh = 1000; // Refresh rate in milli seconds
            if( window.start == 0 )
            {$("#submittest").click();}
            else {
            if( window.start >= end ) {
                //if( window.start ==Math.floor( end + Math.round(window.start/5)) ) {
                  //  alert("Time almost Over ");
                    //mytime = setTimeout( 'display_ct()',refresh );
                //}else{}
                mytime = setTimeout( 'display_ct()',refresh );
            }
            }
        }

        function display_ct () {

            // Calculate the number of days left
            var days = Math.floor(window.start / 86400);
            // After deducting the days calculate the number of hours left
            var hours = Math.floor((window.start - (days * 86400 ))/3600)
            // After days and hours , how many minutes are left
            var minutes = Math.floor((window.start - (days * 86400 ) - (hours *3600 ))/60)
            // Finally how many seconds left after removing days, hours and minutes.
            var secs = Math.floor((window.start - (days * 86400 ) - (hours *3600 ) - (minutes*60)))

            var x =   + hours + " : " + minutes + " : " + secs ;

            document.getElementById('ct').innerHTML = x;
            window.start = window.start - 1;

            tt = display_c(window.start);

        }

    </script>
</head>
<body>

{% set Row = 0 %}
{% set rows = 0 %}
{% for q in question  %}

    {% set rows = rows + 1 %}

{% endfor %}
{% if quiz.timer==true  %}
    <div id="fixedtop">
        <script>
            display_c({{ quiz.Quiztime }})

        </script>

        <span id='ct' style="background-color: transparent; width:200px; height:50px; font-size:x-large; "></span>
    </div>
{% endif %}
<div class="container mt-5" >
    <div class="d-flex justify-content-center row" >
        <div class="col-md-10 col-lg-10" >
            <div class="border"  id="custombackground" >
                <div class="question p-3 border-bottom"  style="background-color: rgba(255,255,255,0.8);">
                    <div  class="d-flex flex-row justify-content-between align-items-center mcq">
                        <h4 style="color: Black"> number of question: {{ rows }}</h4>
                      <center style="text-transform: uppercase; font-family: 'Microsoft Tai Le'  ; font-size: x-large ;color: black;">{{quiz.Title}}</center>

                          <span>   </span>
                          <span><input style="margin-right:50%; border: none; background-color:rgba(255,255,255,1);" /> </span>




                    </div>
                </div>

                <div class="question bg-transparent p-3 border-bottom" >


                    {% for q in question  %}

                        {% set Row = Row + 1 %}

                        {% if q.answerType =="text" %}
                            <div class=" container mt-5">
                                <div class="d-flex justify-content-center row">
                                    <div class="col-md-10 col-lg-10">
                                        <div class="border">
                                            <div class="question  p-3 border-bottom" style="background-color: rgba(255,255,255,0.7);">
                                                <div class="d-flex flex-row justify-content-between align-items-center mcq" >
                                                    {% if q.imageLink!=null %}
                                                        <img style="height: 180px; width: 250px ;margin-bottom: 10px;margin-right: 5px" src="{{ asset('uploads/' ~ q.imageLink)}}">
                                                    {% else %}
                                                        <span></span>
                                                    {% endif%}
                                                    <span>({{ Row }} of {{ rows }} )</span>
                                                </div>
                                            </div>
                                            <div class="question p-3 border-bottom"  style="background-color: rgba(255,255,255,0.6);">
                                                <div class="d-flex flex-row align-items-center question-title">
                                                    <h3 class="text-danger">Q.</h3>
                                                    <h5 class="mt-1 ml-2">{{ q.question }}</h5>
                                                </div>
                                                {% for a in q.getChoices() %}
                                                    <ul class="list-group">
                                                        <label class="container">
                                                            <li class="list-group-item" style=" background-color:white; color:black; margin-bottom: 10px">{{ a.getChoice() }}</li>
                                                            <input type="checkbox" value="{{ a.id }}" class="checkcheck" >
                                                            <span class="checkmark"></span>
                                                        </label>
                                                    </ul>
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <br>
                            <br>
                        {% endif %}
                        {% if q.answerType =="image" %}
                            <div class="container mt-5">
                                <div class="d-flex justify-content-center row">
                                    <div class="col-md-10 col-lg-10">
                                        <div class="border">

                                            <div class="question p-3 border-bottom"  style="background-color: rgba(255,255,255,0.7);">
                                                <div class="d-flex flex-row justify-content-between align-items-center mcq">

                                                    {% if q.imageLink!=null %}
                                                        <img style="height: 180px; width: 250px ;margin-bottom: 10px;margin-right: 5px" src="{{ asset('uploads/' ~ q.imageLink)}}">
                                                    {% else %}
                                                        <span></span>
                                                    {% endif%}
                                                    <span>({{ Row }} of {{ rows }} )</span>
                                                </div>
                                            </div>
                                            <div class="question p-3 border-bottom"  style="background-color: rgba(255,255,255,0.8);">
                                                <div class="d-flex flex-row align-items-center question-title">
                                                    <h3 class="text-danger">Q.</h3>
                                                    <h5 class="mt-1 ml-2">{{ q.question }}</h5>
                                                </div>
                                                {% for a in q.getChoices() %}
                                                    <label class="container">
                                                        <img style="height: 180px; width: 250px ;margin-bottom: 10px;margin-right: 5px" src="{{ asset('uploads/' ~ a.getChoice())}}">
                                                        <input type="checkbox"  class="checkcheck" value="{{ a.id }}">
                                                        <span class="checkmark"></span>
                                                    </label>

                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>


                            <br>
                            <br>
                        {% endif %}

                    {% endfor %}
                    <a type="submit" id="submittest" href="#" class="btn-primary" style=" padding-right:1%; padding-left:1%; font-size:large; margin-left:82%;"  >Submit</a>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{{ asset('jquery/dist/jquery.min.js') }}"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>

    $(document).ready(function() {
       let GlobalArray=[];
       let check;
        $(".checkcheck").change(function () {
            if (this.checked) {
                GlobalArray.push(this.value);
            }else{
                GlobalArray.splice(GlobalArray.indexOf(this.value));
            }

        });
        $("#submittest").click(function (){
            var n=GlobalArray.length;
            if((n>0) && (n!=null )){
            for(check in GlobalArray){

                lien='/AddReply/'+ GlobalArray[check]+'/'+check+'/'+n;
                axios.get(lien).then((response) => {
                       if(response.data.etat==true){
                           alert("Time over");

                           window.location.href="/endtest";
                       }
                     });
            }}else{alert("Time is Over  and you didn't select any choice your test will not be submitted");
                window.location.href="/emptytest"

            }
        });
    });


</script>
<script>var HOST_URL = "https://preview.keenthemes.com/metronic/theme/html/tools/preview";</script>
<!--begin::Global Config(global config for global JS scripts)-->
<script>var KTAppSettings = { "breakpoints": { "sm": 576, "md": 768, "lg": 992, "xl": 1200, "xxl": 1400 }, "colors": { "theme": { "base": { "white": "#ffffff", "primary": "#3699FF", "secondary": "#E5EAEE", "success": "#1BC5BD", "info": "#8950FC", "warning": "#FFA800", "danger": "#F64E60", "light": "#E4E6EF", "dark": "#181C32" }, "light": { "white": "#ffffff", "primary": "#E1F0FF", "secondary": "#EBEDF3", "success": "#C9F7F5", "info": "#EEE5FF", "warning": "#FFF4DE", "danger": "#FFE2E5", "light": "#F3F6F9", "dark": "#D6D6E0" }, "inverse": { "white": "#ffffff", "primary": "#ffffff", "secondary": "#3F4254", "success": "#ffffff", "info": "#ffffff", "warning": "#ffffff", "danger": "#ffffff", "light": "#464E5F", "dark": "#ffffff" } }, "gray": { "gray-100": "#F3F6F9", "gray-200": "#EBEDF3", "gray-300": "#E4E6EF", "gray-400": "#D1D3E0", "gray-500": "#B5B5C3", "gray-600": "#7E8299", "gray-700": "#5E6278", "gray-800": "#3F4254", "gray-900": "#181C32" } }, "font-family": "Poppins" };</script>
<!--end::Global Config-->
<!--begin::Global Theme Bundle(used by all pages)-->
<script src="{{ asset('theme/html/demo1/dist/assets/plugins/global/plugins.bundle49d8.js?v=7.2.8')}}"></script>
<script src="{{ asset('theme/html/demo1/dist/assets/plugins/custom/prismjs/prismjs.bundle49d8.js?v=7.2.8')}}"></script>
<script src="{{ asset('theme/html/demo1/dist/assets/js/scripts.bundle49d8.js?v=7.2.8')}}"></script>

</body>
</html>

